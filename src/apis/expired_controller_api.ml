(*
 * This file has been generated by the OCamlClientCodegen generator for openapi-generator.
 *
 * Generated by: https://openapi-generator.tech
 *
 *)

let get_expiration_defaults () =
    let open Lwt in
    let uri = Request.build_uri "/expired/defaults" in
    let headers = Request.default_headers in
    let headers = Cohttp.Header.add headers "x-api-key" Request.api_key in
    Cohttp_lwt_unix.Client.call `GET uri ~headers >>= fun (resp, body) ->
    Request.read_json_body_as (JsonSupport.unwrap Expiration_defaults.of_yojson) resp body

let get_expired_inbox_by_inbox_id ~inbox_id =
    let open Lwt in
    let uri = Request.build_uri "/expired/inbox/{inboxId}" in
    let headers = Request.default_headers in
    let headers = Cohttp.Header.add headers "x-api-key" Request.api_key in
    let uri = Request.replace_path_param uri "inboxId"  inbox_id in
    Cohttp_lwt_unix.Client.call `GET uri ~headers >>= fun (resp, body) ->
    Request.read_json_body_as (JsonSupport.unwrap Expired_inbox_dto.of_yojson) resp body

let get_expired_inbox_record ~id_of_the_expired_inbox_record_you_want_to_retrieve__this_is_different_from_the_id_of_the_inbox_you_are_interested_in__see_other_methods_for_getting_expired_inbox_record_for_an_inbox_inbox_id =
    let open Lwt in
    let uri = Request.build_uri "/expired/{expiredId}" in
    let headers = Request.default_headers in
    let headers = Cohttp.Header.add headers "x-api-key" Request.api_key in
    let uri = Request.replace_path_param uri "ID of the ExpiredInboxRecord you want to retrieve. This is different from the ID of the inbox you are interested in. See other methods for getting ExpiredInboxRecord for an inbox inboxId)"  id_of_the_expired_inbox_record_you_want_to_retrieve__this_is_different_from_the_id_of_the_inbox_you_are_interested_in__see_other_methods_for_getting_expired_inbox_record_for_an_inbox_inbox_id in
    Cohttp_lwt_unix.Client.call `GET uri ~headers >>= fun (resp, body) ->
    Request.read_json_body_as (JsonSupport.unwrap Expired_inbox_dto.of_yojson) resp body

let get_expired_inboxes ?(page = 0l) ?(size = 20l) ?(sort = `ASC) ?since ?before () =
    let open Lwt in
    let uri = Request.build_uri "/expired" in
    let headers = Request.default_headers in
    let headers = Cohttp.Header.add headers "x-api-key" Request.api_key in
    let uri = Request.add_query_param uri "page" Int32.to_string page in
    let uri = Request.add_query_param uri "size" Int32.to_string size in
    let uri = Request.add_query_param uri "sort" Enums.show_sortdirection sort in
    let uri = Request.maybe_add_query_param uri "since" (fun x -> x) since in
    let uri = Request.maybe_add_query_param uri "before" (fun x -> x) before in
    Cohttp_lwt_unix.Client.call `GET uri ~headers >>= fun (resp, body) ->
    Request.read_json_body_as (JsonSupport.unwrap Page_expired_inbox_record_projection.of_yojson) resp body

